{% extends 'base.html' %}

{% load static %}

{% load crispy_forms_tags %}

{% block content %}

<!-- Begin page content -->

<main class="flex-shrink-0">
	<div class="container" align="center">

		<p>&nbsp;</p>
		<p>&nbsp;</p>
		{% if user.is_authenticated %}
		
		<h3 class="mt-3">Update: {{ link.short_alias }}</h3>
		<br />

		<form id="shorten-form" method="POST" action="?page={{ page }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">
			{% csrf_token %}
			{{ form|crispy }}
		
			<!-- <input type="text" id="tag-input" class="form-control" placeholder="Enter tags" />
			<div id="tag-suggestions" class="list-group" style="position:absolute; z-index:1000;"></div>
			<div id="selected-tags"></div> -->
			<button type="submit" class="btn btn-primary rounded-pill px-3">Update</button>
			<input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
		</form>

		<p>&nbsp;</p>

		{% else %}
		<p>Please <a href="{% url 'login' %}">login</a> to see this page.</p>
		{% endif %}

	<!-- container end -->
	</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<script src="{% static 'js/tags.js' %}"></script>

</main>

{% endblock %}
